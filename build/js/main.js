"use strict";function _typeof(e){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _createForOfIteratorHelper(e,t){var r,n,o,a,c="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(c)return n=!(r=!0),{s:function(){c=c.call(e)},n:function(){var e=c.next();return r=e.done,e},e:function(e){n=!0,o=e},f:function(){try{r||null==c.return||c.return()}finally{if(n)throw o}}};if(Array.isArray(e)||(c=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length)return c&&(e=c),a=0,{s:t=function(){},n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(e,t){var r;if(e)return"string"==typeof e?_arrayLikeToArray(e,t):"Map"===(r="Object"===(r=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:r)||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ownKeys(t,e){var r,n=Object.keys(t);return Object.getOwnPropertySymbols&&(r=Object.getOwnPropertySymbols(t),e&&(r=r.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),n.push.apply(n,r)),n}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var r=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(r),!0).forEach(function(e){_defineProperty(t,e,r[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}return t}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){e=_toPrimitive(e,"string");return"symbol"==_typeof(e)?e:e+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0===r)return("string"===t?String:Number)(e);r=r.call(e,t||"default");if("object"!=_typeof(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}!function(){var c,r="https://fav-prom.com/api_forecast_poster",i=document.querySelectorAll(".authBtn"),l=document.querySelectorAll(".predictBtn"),e=document.querySelector("#ukLeng"),e=document.querySelector("#enLeng")?"en":e?"uk":"uk",n={},m={},p=[],y={};function t(){var e=document.querySelectorAll("[data-translate]");e&&e.length&&e.forEach(function(e){var t=e.getAttribute("data-translate");e.innerHTML=v(t),e.removeAttribute("data-translate")})}function v(e,t){if(e)return t=t||e,n[e]||t}var o=function(e,t){return fetch(r+e,_objectSpread({headers:{Accept:"application/json","Content-Type":"application/json"}},t||{})).then(function(e){return e.json()})};function a(){t(),document.querySelector(".predictBtn").addEventListener("click",function(){if(c){var e,t=JSON.parse(localStorage.getItem("betslipMatches"))||[],r=_createForOfIteratorHelper(p);try{for(r.s();!(e=r.n()).done;){var n=e.value;h(n,m[n.matchId],t)}}catch(e){r.e(e)}finally{r.f()}}}),o("/matches").then(function(e){p=e||[];var e=JSON.parse(localStorage.getItem("betslipMatches"))||[],n=p,o=e,t=document.querySelector(".welcome__row");t.innerHTML="";for(var r=0;r<n.length;r+=2){for(var a=document.createElement("div"),c=(a.className="welcome__row-wrap",function(){var t=n[i],r=document.createElement("div");r.className="welcome__item",t.matchId=+t.matchId,o.includes(t.matchId)&&r.classList.add("_done"),r.innerHTML='\n                    <div class="welcome__item-row">\n                        <div class="welcome__item-title">\n                            <img src="https://fav-prom.com/html/forecast-poster/img/welcome/fav.svg" alt="FAVBET">\n                            <span>'.concat(v(t.title),'</span>\n                        </div>\n                        <div class="welcome__item-date">').concat(function(e){var t;if(e)return e=new Date(e),t=String(e.getDate()).padStart(2,"0"),e=String(e.getMonth()+1).padStart(2,"0"),"".concat(t,".").concat(e)}(t.matchDate),'</div>\n                    </div>\n                    <div class="welcome__item-max-title">').concat(v(t.team1)," â€“ ").concat(v(t.team2),'</div>\n                    <div class="welcome__item-info">\n                        <div class="welcome__item-bid">').concat(v(t.outcomeTranslation),'</div>\n                        <div class="welcome__item-cof">').concat(t.defaultCoef||0,"</div>\n                    </div>\n                "),m[t.matchId]=r,a.appendChild(r),function r(n){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;if(1<o)return void console.log("No data for 0 and 1 service ids");return fetch("/frontend_api2/",{method:"POST",body:JSON.stringify({jsonrpc:"2.0",id:16,method:"frontend/market/get",params:{by:{lang:"uk",service_id:o,event_id:n.matchId}}})}).then(function(e){return e.json()}).then(function(e){var t,e=e.result.find(function(e){return e.market_name===n.marketName&&e.result_type_name===n.marketType});return e&&(t=e.outcomes.find(function(e){return e.outcome_name==n.outcomeName}))?{outcomeId:t.outcome_id,outcomeCoef:t.outcome_coef,marketId:e.market_id,serviceId:o,matchId:n.matchId}:r(n,o+1)}).then(function(e){return y[e.matchId]=e}).catch(function(e){console.log(e)})}(t).then(function(e){e?r.querySelector(".welcome__item-cof").innerHTML=e.outcomeCoef:console.log("No outcome data for ".concat(t.matchId))}),r.addEventListener("click",function(){return h(t,r,o)})}),i=r;i<r+2&&i<n.length;i++)c();t.appendChild(a)}var l,u,s=!1,d=document.getElementById("draggableContainer"),e=document.querySelectorAll(".welcome__row-wrap"),f=document.querySelector(".welcome__row");switch(e.length){case 5:f.style.maxWidth="2098px";break;case 4:f.style.maxWidth="1668px";break;case 3:f.style.maxWidth="1258px";break;case 2:f.style.maxWidth="828px";break;case 1:f.style.maxWidth="418px";break;default:f.style.maxWidth="2098px"}d.addEventListener("mousedown",function(e){s=!0,l=e.pageX-d.offsetLeft,u=d.scrollLeft}),d.addEventListener("mouseleave",function(){s=!1}),d.addEventListener("mouseup",function(){s=!1}),d.addEventListener("mousemove",function(e){s&&(e.preventDefault(),e=2*(e.pageX-d.offsetLeft-l),d.scrollLeft=u-e)})})}function h(e,t,r){var n;c&&!r.includes(e.matchId)&&((n=y[e.matchId])&&n.matchId?(n=n,window.addBetslipOutcomes?(n={serviceId:n.serviceId,eventId:n.matchId,marketId:n.marketId,outcomeId:n.outcomeId},window.addBetslipOutcomes([n])):console.log("No addBetslipOutcomes method is defined"),t.classList.add("_done"),r.push(e.matchId),localStorage.setItem("betslipMatches",JSON.stringify(r))):console.log("No fav data for match id "+e.matchId))}function u(){if(c){var e,t=_createForOfIteratorHelper(i);try{for(t.s();!(e=t.n()).done;)e.value.classList.add("hide")}catch(e){t.e(e)}finally{t.f()}document.querySelector(".predictBtn").classList.remove("hide"),document.querySelector(".welcome__row").classList.remove("hide")}else{var r,n=_createForOfIteratorHelper(l);try{for(n.s();!(r=n.n()).done;)r.value.classList.add("hide")}catch(e){n.e(e)}finally{n.f()}var o,a=_createForOfIteratorHelper(i);try{for(a.s();!(o=a.n()).done;)o.value.classList.remove("hide")}catch(e){a.e(e)}finally{a.f()}}}fetch("".concat(r,"/translates/").concat(e)).then(function(e){return e.json()}).then(function(e){n=e,t(),new MutationObserver(function(e){t()}).observe(document.getElementById("forecastPoster"),{childList:!0,subtree:!0})}).then(function(){var e,t;a(),window.store?(e=window.store.getState(),c=e.auth.isAuthorized&&e.auth.id||""):t=setInterval(function(){window.g_user_id&&(c=window.g_user_id,u(),clearInterval(t))},200),u()});var s=document.querySelector(".fav__page");setTimeout(function(){return s.classList.add("overflow")},1e3)}();